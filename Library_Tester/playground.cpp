#include "utility.h"

int main()
{
	SIMD_type a, b, c, d, e, r;
	// b = simd<32>::constant<11>();
	string str0 = "1000011011110001110101111110111101100000000110110000010001101001010111110101100010101000010000100010001101001101101010100010010011111111111011111111111100110111111111111111111111111111111111110001000010100100001001110001010111110111100110111111111101111101";
	string str =  "0000000001001100010000101011110010100111111011100111101100001101010000010000000100000000000100001111110111111111010110110011100000001111011110101111111111111111111111111111111111111111111111100000111111110001000111101010010100000000000000000000000000000000";

	str = 		  "1000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100";
	d = LoadfromString(str0, 2);
	a = LoadfromString(str, 2);

	a = mvmd<64>::fill4(3, 5, 7, 9);

	cout << "a: "<<endl << Store2String(a, 2) <<endl;

	int t = __builtin_popcountll(mvmd<64>::extract<0>(a)) + __builtin_popcountll(mvmd<64>::extract<1>(a)) + __builtin_popcountll(mvmd<64>::extract<2>(a)) + __builtin_popcountll(mvmd<64>::extract<3>(a));

	cout << t << endl;

	return 0;
}

